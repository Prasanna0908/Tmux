############################################################
# GENERAL
############################################################

set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

set -sg escape-time 0
set -g mouse on
set -g set-clipboard on

set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

set -g history-limit 50000
setw -g xterm-keys on

############################################################
# MODERN PANE SEPARATION (CLEAN, NO TITLE BAR)
############################################################

# Subtle / modern pane borders
set -g pane-border-style fg=colour239
set -g pane-active-border-style fg=colour82

# No pane title bar at all
set -g pane-border-status off

############################################################
# STATUS BAR (TOP, NEON GREEN)
############################################################

set -g status on
set -g status-position top
set -g status-interval 10

# Deep black + neon green
set -g status-style bg=colour232,fg=colour82

# Left: session name
set -g status-left-length 40
set -g status-left "#[fg=colour82,bold]   #S #[default]"

# Window tabs
setw -g window-status-style fg=colour244,bg=colour232
setw -g window-status-current-style fg=colour232,bg=colour82,bold

setw -g window-status-format " #I:#W "
setw -g window-status-current-format " #I:#W "

############################################################
# SVN INTEGRATION (QUIET & FAST)
############################################################

set -g @svn_branch 'svn info 2>/dev/null | sed -n "s|^URL: .*/||p"'
set -g @svn_dirty 'svn st -q 2>/dev/null | grep -q . && echo "●"'

set -g status-right-length 100
set -g status-right "#[fg=colour82]#(@svn_branch) #[fg=colour196]#(@svn_dirty)  #[fg=colour82]%H:%M "

############################################################
# COPY MODE STYLE
############################################################

setw -g mode-style bg=colour82,fg=colour232
set -g message-style bg=colour82,fg=colour232

############################################################
# MOUSE COPY (STABLE, NO ERRORS)
############################################################

# Left-drag enters copy-mode
unbind -n MouseDrag1Pane
bind -n MouseDrag1Pane copy-mode -M

# Release copies selection
unbind -n MouseDragEnd1Pane
bind -n MouseDragEnd1Pane send -X copy-selection

############################################################
# CTRL-C / CTRL-V (SAFE & MODERN)
############################################################

# Ctrl-C copies ONLY when selecting (does not break SIGINT)
bind -T copy-mode-vi C-c send -X copy-selection-and-cancel
bind -T copy-mode    C-c send -X copy-selection-and-cancel

# Ctrl-V always pastes
bind -n C-v paste-buffer

############################################################
# RIGHT CLICK (INTENTIONAL)
############################################################

# Disable default weird behavior
unbind -n MouseDown3Pane

# Right-click = paste
bind -n MouseDown3Pane paste-buffer

############################################################
# SMOOTH MOUSE SCROLL (NO PREFIX)
############################################################

bind -n WheelUpPane copy-mode -e
bind -n WheelDownPane send -X scroll-down

############################################################
# WINDOW RENAMING (MANUAL ONLY)
############################################################

set -g allow-rename off
set -g automatic-rename off

############################################################
# CLOCK
############################################################

setw -g clock-mode-colour colour82
